(function($){"use strict";var scrolltotop={setting:{startline:600,scrollto:0,scrollduration:1e3,fadeduration:[500,100]},controlHTML:'<div  style="margin-bottom:14px;-moz-border-radius-bottomleft:5px;-moz-border-radius-bottomright:5px;-moz-border-radius-topleft:5px;-moz-border-radius-topright:5px;background:#f1d432 none repeat scroll 0 0;border:4px solid #f1d432;"><div style="-moz-border-radius-bottomleft:3px;-moz-border-radius-bottomright:3px;-moz-border-radius-topleft:3px;-moz-border-radius-topright:3px;background:#fff none repeat scroll 0 0;border:1px solid #ccc;padding:12px 9px;"><span /></div></div>',controlattrs:{offsetx:5,offsety:5},anchorkeyword:"#top",state:{isvisible:false,shouldvisible:false},scrollup:function(){if(!this.cssfixedsupport)this.$control.css({opacity:0});var dest=isNaN(this.setting.scrollto)?this.setting.scrollto:parseInt(this.setting.scrollto);if(typeof dest=="string"&&$("#"+dest).length==1)dest=$("#"+dest).offset().top;else dest=0;this.$body.animate({scrollTop:dest},this.setting.scrollduration)},keepfixed:function(){var $window=$(window);var controlx=$window.scrollLeft()+$window.width()-this.$control.width()-this.controlattrs.offsetx;var controly=$window.scrollTop()+$window.height()-this.$control.height()-this.controlattrs.offsety;this.$control.css({left:controlx+"px",top:controly+"px"})},togglecontrol:function(){var scrolltop=$(window).scrollTop();if(!this.cssfixedsupport)this.keepfixed();this.state.shouldvisible=scrolltop>=this.setting.startline?true:false;if(this.state.shouldvisible&&!this.state.isvisible){this.$control.stop().animate({opacity:1},this.setting.fadeduration[0]);this.state.isvisible=true}else if(this.state.shouldvisible==false&&this.state.isvisible){this.$control.stop().animate({opacity:0},this.setting.fadeduration[1]);this.state.isvisible=false}},init:function(){$(document).ready(function($){var mainobj=scrolltotop;var iebrws=document.all;mainobj.cssfixedsupport=!iebrws||iebrws&&document.compatMode=="CSS1Compat"&&window.XMLHttpRequest;mainobj.$body=window.opera?document.compatMode=="CSS1Compat"?$("html"):$("body"):$("html,body");mainobj.$control=$('<div id="topcontrol">'+mainobj.controlHTML+"</div>").css({position:mainobj.cssfixedsupport?"fixed":"absolute",bottom:mainobj.controlattrs.offsety,right:mainobj.controlattrs.offsetx,opacity:0,cursor:"pointer"}).attr({title:"Scroll Back to Top"}).click(function(){mainobj.scrollup();return false}).appendTo("body");if(document.all&&!window.XMLHttpRequest&&mainobj.$control.text()!="")mainobj.$control.css({width:mainobj.$control.width()});mainobj.togglecontrol();$('a[href="'+mainobj.anchorkeyword+'"]').click(function(){mainobj.scrollup();return false});$(window).on("scroll resize",function(e){mainobj.togglecontrol()})})}};$(document).ready(function(){scrolltotop.init()})})(jQuery);