if(typeof SQ_DEBUG==="undefined")var SQ_DEBUG=false;(function($){"use strict";$.fn.sq_SeoSettings=function(){var $this=this;$this.find("select[name=sq_jsonld_type]").on("change",function(){$(".tab-panel-Organization").hide();$(".tab-panel-Person").hide();$(".tab-panel-"+$(this).children("option:selected").val()).show()});$this.find(".sq_imageselect").on("click",function(event){var frame;var destination=$("#"+$(this).data("destination"));event.preventDefault();if(frame){frame.open();return}frame=wp.media({title:"Select Or Upload Media You Want Search Engines to Display in Association with Your Brand/Site",button:{text:"Use this media"},multiple:false});frame.on("select",function(){var attachment=frame.state().get("selection").first().toJSON();destination.val(attachment.url)});frame.open()});$this.find("#sq_webmaster_button").on("click",function(event){$.post(sqQuery.ajaxurl,{action:"sq_ajax_gsc_code",sq_nonce:sqQuery.nonce}).done(function(response){if(typeof response.code!=="undefined"){$this.find("#google_wt").val(response.code)}else if(typeof response.error!=="undefined"){$.sq_showMessage(response.error,1e4).addClass("sq_error")}},"json")});$this.find("#sq_ga_button").on("click",function(event){$.post(sqQuery.ajaxurl,{action:"sq_ajax_ga_code",sq_nonce:sqQuery.nonce}).done(function(response){if(typeof response.code!=="undefined"){$this.find("#google_analytics").val(response.code);$this.find("#google_analytics").trigger("change")}else if(typeof response.error!=="undefined"){$.sq_showMessage(response.error,1e4).addClass("sq_error")}},"json")});$this.find("#sq_connection_check_button").on("click",function(event){$.post(sqQuery.ajaxurl,{action:"sq_ajax_connection_check",sq_nonce:sqQuery.nonce}).done(function(response){location.reload()},"json")})};$(document).ready(function(){$(".sq-switch.redgreen input[type=checkbox]").on("change",function(){if($(this).is(":checked")){$("#sq_seosettings.sq_deactivated").removeClass("sq_deactivated")}else{$("#sq_seosettings:not(.sq_deactivated)").addClass("sq_deactivated")}});$("#sq_seosettings.sq_deactivated").on("click",function(){$(".sq-switch.redgreen input[type=checkbox]").attr("checked","checked");$(".sq-switch.redgreen input[type=checkbox]").trigger("change")});$("#google_analytics").on("change",function(){if($("#google_analytics").val().indexOf("G-")>-1){$('select[name=sq_analytics_google_js] option[value="gtag"]').prop("selected",true)}if($("#google_analytics").val().indexOf("UA-")>-1){$('select[name=sq_analytics_google_js] option[value="analytics"]').prop("selected",true)}});$("ul.nav-tabs > li > a").on("shown.bs.tab",function(e){var id=$(e.target).attr("href").substr(1);$.sq_setHashParam("tab",id)});var tab=$.sq_getHashParam("tab");if(tab!==""&&$('a[href="#'+tab+'"]').length>0){$('a[href="#'+tab+'"]').attr("aria-expanded",true).tab("show")}$("#sq_seosettings").sq_SeoSettings();var originalFormData=$("form:not(.ignore):first").find("input[type!=hidden]").serialize();$("button[type=submit]").on("click",function(){originalFormData=$("form:not(.ignore):first").find("input[type!=hidden]").serialize()});$("input[type=submit]").on("click",function(){originalFormData=$("form:not(.ignore):first").find("input[type!=hidden]").serialize()});window.onbeforeunload=function(){if(originalFormData!==""&&originalFormData!==$("form:not(.ignore):first").find("input[type!=hidden]").serialize()){return"There are unchanged data. Are you sure you want to refresh?"}}})})(jQuery);