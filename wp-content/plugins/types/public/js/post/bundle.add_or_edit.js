!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}({1:function(e,t){e.exports=window.wp.components},18:function(e,t,n){"use strict";n.r(t);var o=n(3),r=n.n(o),i=n(1);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=p(e);if(t){var r=p(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=wp.element.Component,f=wp.i18n.__,y=WPV_Toolset||{},h=function(e){window.location=y.Utils.updateUrlQuery("toolset-switch-to-classic-editor",e?"revert_to_previous_content":"keep_current_content",y.Utils.updateUrlQuery("toolset-switch-to-block-editor"))},b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,n,o,r=u(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=r.call(this,e)).state={isOpen:!1},t}return t=c,(n=[{key:"render",value:function(){var e=this;return React.createElement("div",null,React.createElement(i.Button,{isSecondary:!0,"data-toolbar-item":!0,onClick:function(){return e.setState({isOpen:!0})}},f("Use Classic Editor","wpcf")),this.state.isOpen?React.createElement(i.Modal,{className:"types-editor-switch",title:f("Use Classic Editor","wpcf"),onRequestClose:function(){return e.setState({isOpen:!1})}},y.Utils.getParameterByName("post")?React.createElement("div",null,React.createElement("p",{className:"types-editor-switch__lead"},f("If you've encountered problems using the Block Editor, you can switch to the Classic one.","wpcf")),React.createElement("p",null,f("You can either revert to the post content before you started using the Block Editor, or you can keep the current post content (which will most probably include HTML comments added by the Block Editor).","wpcf")),React.createElement("p",null,f("Please note that reverting the post content to its previous state cannot be undone if the current post type doesn't have post revisions.","wpcf")),React.createElement("div",{className:"types-editor-switch__buttons"},React.createElement(i.Button,{isDefault:!0,className:"types-editor-switch__buttons-cancel",onClick:function(){return e.setState({isOpen:!1})}},f("Cancel","wpcf")),React.createElement(i.Button,{isPrimary:!0,onClick:function(){return h(!0)}},f("Revert to post content before Block Editor","wpcf")),React.createElement(i.Button,{isPrimary:!0,onClick:function(){return h(!1)}},f("Keep current content","wpcf")))):React.createElement("div",null,React.createElement("p",{className:"types-editor-switch__lead"},f("Please save your post first before switching the editor mode.","wpcf")))):null)}}])&&a(t.prototype,n),o&&a(t,o),c}(d),v=(n(8),wp.data.select("core/editor"));if(v){var m=v.getCurrentPostId,_=types_post_add_or_edit_l10n||{};jQuery((function(){var e=setInterval((function(){var e=jQuery("#editor.block-editor__container");0===e.length&&t(),0!==e.find(".edit-post-header-toolbar").length&&(_.editorMode&&"per_post"===_.editorMode&&function(){var e=jQuery("#editor.block-editor__container .edit-post-header-toolbar");if(0!==e.length){var t="types-switch-to-classic-editor-button-placeholder";e.append('<div id="'.concat(t,'"></div>')),r.a.render(React.createElement(b,null),document.querySelector("#"+t))}}(),_.needsReloadAfterSaving&&jQuery(document).on("click",".edit-post-header__settings .editor-post-publish-button, .edit-post-header__settings .editor-post-save-draft, .edit-post-header__settings .editor-post-publish-panel__toggle",(function(){var e=setInterval((function(){var t=wp.data.select("core/editor");if(!t.isSavingPost()&&!t.isAutosavingPost()&&t.didPostSaveRequestSucceed()){clearInterval(e);var n=document.getElementById("types_displayed_field_group_slugs"),o=n?JSON.parse(n.innerHTML):{},r=Object.keys(o).map((function(e){return o[e]})),i={action:_.reevaluateFieldGroup.actionName,wpnonce:_.reevaluateFieldGroup.nonce,postId:m(),displayedFieldGroups:r};jQuery.post({async:!0,url:window.ajaxurl,data:i,success:function(e){e.hasOwnProperty("data")&&e.data.hasOwnProperty("fieldGroupsChanged")&&e.data.fieldGroupsChanged&&wp.data.dispatch("core/notices").createNotice("warning",_.strings.displayConditionsMightHaveChanged,{isDismissible:!0,actions:[{url:"",label:_.strings.reloadPage}]})}})}}),1e3)})),t())}),1),t=function(){clearInterval(e)}}))}},3:function(e,t){e.exports=ReactDOM},8:function(e,t,n){}});